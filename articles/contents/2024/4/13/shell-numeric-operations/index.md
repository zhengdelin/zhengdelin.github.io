# [ShellScript學習紀錄04] - 數值運算

在Shell腳本中，可以使用 `$(( ))` 或 `let` 或 `expr` 來進行基本的數學運算

## 使用 `$(( ))`

*   加法：

```bash
result=$((3 + 5))
```


*   減法：

```bash
result=$((10 - 3))
```

*   乘法：

```bash
result=$((4 * 6))
```

*   除法：

```bash
result=$((20 / 4))
```
* 取餘操作

Shell腳本中的取餘操作可以使用 `%` 符號進行。

```bash
remainder=$((21 % 4))
```

## 使用 `let` 命令

在 shell 腳本中， `let` 是一種用於進行算術運算的特殊命令，他允許你在腳本中直接執行基本的算術操作，而不需要使用 `$(( ))` 的語法。

`let` 的基本語法為：

```bash
let expression
```

其中， `expression` 是一個包含算術運算的表達式，例如：

```bash
let result=3+5

let result=10-3

let result=4*6

let result=20/4
```

與 `$(( ))` 相比，`let` 的優點是更易讀，更接近普通的數學表達式。

需要注意的是， 在 `let` 和 `$(( ))` 中使用的變數**不需要**使用 `$` 符號來引用，例：

```bash
a=1
b=2

let r1=a+b
r2=$((a+b))
echo "$r1 $r2" # 2 2
```

## expr命令

`expr` 是一個用於在Shell中進行數學表達式求值的命令。它可以進行加法、減法、乘法、除法和取餘操作。

*   加法：

```bash
result=$(expr 3 + 5)
```

*   減法：

```bash
result=$(expr 10 - 3)
```

*   乘法：

```bash
result=$(expr 4 \* 6)  # 注意需要使用反斜杠來轉義乘號
```

*   除法：
```bash
result=$(expr 20 / 4)
```

*   取餘操作：
```bash
remainder=$(expr 21 % 4)
```

與 `let` 、 `$(( ))` 不同的是， 在`expr` 中使用的變數**需要**使用 `$` 符號來引用，例：

```bash
a=1
b=2

r3=$(expr $a + $b)
echo "$r3" # 2
```

## 浮點數運算

在Shell中，預設情況下，無法直接進行浮點數運算。如果需要進行浮點數運算，可以使用`bc`命令。`bc`是一個用於任意精度的數字計算的命令行計算器。

```bash
result=$(echo "scale=2; 5.5 / 2.1" | bc)
```

在這個例子中，`scale=2` 表示將結果保留兩位小數。

這些是在Shell腳本中進行數值運算的一些基本方法。根據你的需求和情況，可以選擇適合的方法來進行數學計算。